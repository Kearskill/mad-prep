### **Tutorial 9: App Data Storage (Part 1)**

#### 1. Briefly explain the following App Data Storage available in Android Framework:

#### a) App-Specific Storage

These are files that is only for the app's use. It is stored in a private directory that other apps cannot access. (Exception for rooted device)

- Internal Storage: Files are deleted when the app is uninstalled.
- External App-Specific: Located on external storage (e.g. SD card), but still belongs to the app.

#### b) Shared Storage  

Files that are intended to be accessible by other apps or the user (e.g. Photos, Downloads, Music)

- Used for media files and documents.
- Managed via the MediaStore API or Storage Access Framework.

#### c) Preference  

Lightweight mechanism to store small amounts of primitive data as key-value pairs.

- Format: XML file
- Best for: User settings, flags, or theme

#### d) Database  

Used for structured data that requires complex queries and relationships.

- Android uses SQLite, but it is highly recommended to use the Room Persistence Library as an abstraction layer for better compile-time checks and easier implementation.


#### 2. What are the considerations that we should have included when we are deciding which App Data Storage type to use in the mobile application?

4 primary factors:
- Data Size: Use `SharedPreferences` for tiny flags; use `Database` or `App-Specific` files for large datasets.
- Data Structure: If you need to filter, sort, or relate data (e.g. a list of orders linked to a user), a `Database` is used.
- Privacy/Security: If the data is sensitive (e.g. user's private token), use `App-Specific Internal Storage`. If a photo for user's gallery, use `Shared Storage`.
- Persistence: If the data need to survive a phone reboot, use `App-Specific`, `Shared Storage`, `Preferences`, and `Database`. Just a screen rotation? Use `Save Instance State`.

#### 3. Can we use more than one App Data Storage type in a mobile application? Explain your answer by giving some suitable examples.

We can use more than one App Data Storage type in a mobile application 
since most production-grade applications use a combination of storage types to handle different needs.

E.g. A social media app
- SharedPreferences: To store the dark mode settings or the remember me toggle.
- Database (Room): To cache the user's feed and messages so they can be read offline.
- App-Specific Storage: To temporary store a high-resolution image being cropped before it is uploaded.
- Shared Storage: To save a photo the user downloaded from the feed into their phone's pictures folder.

#### 4. State the differences between cache data, SharedPreference data, and Save Instance State data in the Android Framework.

| **Feature**          | Cache Data                                | SharedPreferences                                   | Save Instance State                                              |
|----------------------|-------------------------------------------|-----------------------------------------------------|------------------------------------------------------------------|
| **Purpose**          | Temporary files to improve performance    | Small user settings/preferences                     | Preserving UI state during config changes (e.g. rotation)        |
| **Storage Location** | `/cache` directory (Internal or External) | XML file in Internal storage                        | RAM (Bundle object)                                              |
| **Persistence**      | System may delete it if space is low.     | Persistent until app is uninstalled or data cleared | Temporary; lost if the app is killed by the user or task manager |
| **Data Type**        | Files, images, large blobs.               | Key-value pairs (Strings, Ints, Booleans).          | Small amounts of UI data (Parcelable/Serializable)               |


